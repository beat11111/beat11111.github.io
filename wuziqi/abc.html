<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>五子棋</title>
    <style>
        body {background-color: beige}
        div {
            padding:5px;
            width: 806px;
            height:716px;
            border:10px solid black;
           }
        button {
                width: 180px;
                height:80px;
                background-color: green;
                color: yellow;
                font-size: 1.8em;
                }
        #button1 {
                position:absolute;
                top: 760px;
                left: 50px;
        }
        #button2 {
                position:absolute;
                top: 760px;
                left: 600px;
        }


 </style>
<body>

</body>
  </head>
  <body>
    <div>
      <img id = "1" class = "img1" src="1.jpg">
      <img id = "2" class = "img1" src="1.jpg">
      <img id = "3" class = "img1" src="1.jpg">
      <img id = "4" class = "img1" src="1.jpg">
      <img id = "5" class = "img1" src="1.jpg">
      <img id = "6" class = "img1" src="1.jpg">
      <img id = "7" class = "img1" src="1.jpg">
      <img id = "8" class = "img1" src="1.jpg">
      <img id = "9" class = "img1" src="1.jpg">
      <img id = "10" class = "img1" src="1.jpg">
      <img id = "11" class = "img1" src="1.jpg">
      <img id = "12" class = "img1" src="1.jpg">
      <img id = "13" class = "img1" src="1.jpg">
      <img id = "14" class = "img1" src="1.jpg">
      <img id = "15" class = "img1" src="1.jpg">
      <img id = "16" class = "img1" src="1.jpg">
      <img id = "17" class = "img1" src="1.jpg">
      <img id = "18" class = "img1" src="1.jpg">
      <img id = "19" class = "img1" src="1.jpg">
      <img id = "20" class = "img1" src="1.jpg">
      <img id = "21" class = "img1" src="1.jpg">
      <img id = "22" class = "img1" src="1.jpg">
      <img id = "23" class = "img1" src="1.jpg">
      <img id = "24" class = "img1" src="1.jpg">
      <img id = "25" class = "img1" src="1.jpg">
      <img id = "26" class = "img1" src="1.jpg">
      <img id = "27" class = "img1" src="1.jpg">
      <img id = "28" class = "img1" src="1.jpg">
      <img id = "29" class = "img1" src="1.jpg">
      <img id = "30" class = "img1" src="1.jpg">
      <img id = "31" class = "img1" src="1.jpg">
      <img id = "32" class = "img1" src="1.jpg">
      <img id = "33" class = "img1" src="1.jpg">
      <img id = "34" class = "img1" src="1.jpg">
      <img id = "35" class = "img1" src="1.jpg">
      <img id = "36" class = "img1" src="1.jpg">
      <img id = "37" class = "img1" src="1.jpg">
      <img id = "38" class = "img1" src="1.jpg">
      <img id = "39" class = "img1" src="1.jpg">
      <img id = "40" class = "img1" src="1.jpg">
      <img id = "41" class = "img1" src="1.jpg">
      <img id = "42" class = "img1" src="1.jpg">
      <img id = "43" class = "img1" src="1.jpg">
      <img id = "44" class = "img1" src="1.jpg">
      <img id = "45" class = "img1" src="1.jpg">
      <img id = "46" class = "img1" src="1.jpg">
      <img id = "47" class = "img1" src="1.jpg">
      <img id = "48" class = "img1" src="1.jpg">
      <img id = "49" class = "img1" src="1.jpg">
      <img id = "50" class = "img1" src="1.jpg">
      <img id = "51" class = "img1" src="1.jpg">
      <img id = "52" class = "img1" src="1.jpg">
      <img id = "53" class = "img1" src="1.jpg">
      <img id = "54" class = "img1" src="1.jpg">
      <img id = "55" class = "img1" src="1.jpg">
      <img id = "56" class = "img1" src="1.jpg">
      <img id = "57" class = "img1" src="1.jpg">
      <img id = "58" class = "img1" src="1.jpg">
      <img id = "59" class = "img1" src="1.jpg">
      <img id = "60" class = "img1" src="1.jpg">
      <img id = "61" class = "img1" src="1.jpg">
      <img id = "62" class = "img1" src="1.jpg">
      <img id = "63" class = "img1" src="1.jpg">
      <img id = "64" class = "img1" src="1.jpg">
      <img id = "65" class = "img1" src="1.jpg">
      <img id = "66" class = "img1" src="1.jpg">
      <img id = "67" class = "img1" src="1.jpg">
      <img id = "68" class = "img1" src="1.jpg">
      <img id = "69" class = "img1" src="1.jpg">
      <img id = "70" class = "img1" src="1.jpg">
      <img id = "71" class = "img1" src="1.jpg">
      <img id = "72" class = "img1" src="1.jpg">
      <img id = "73" class = "img1" src="1.jpg">
      <img id = "74" class = "img1" src="1.jpg">
      <img id = "75" class = "img1" src="1.jpg">
      <img id = "76" class = "img1" src="1.jpg">
      <img id = "77" class = "img1" src="1.jpg">
      <img id = "78" class = "img1" src="1.jpg">
      <img id = "79" class = "img1" src="1.jpg">
      <img id = "80" class = "img1" src="1.jpg">
      <img id = "81" class = "img1" src="1.jpg">
      <img id = "82" class = "img1" src="1.jpg">
      <img id = "83" class = "img1" src="1.jpg">
      <img id = "84" class = "img1" src="1.jpg">
      <img id = "85" class = "img1" src="1.jpg">
      <img id = "86" class = "img1" src="1.jpg">
      <img id = "87" class = "img1" src="1.jpg">
      <img id = "88" class = "img1" src="1.jpg">
      <img id = "89" class = "img1" src="1.jpg">
      <img id = "90" class = "img1" src="1.jpg">
      <img id = "91" class = "img1" src="1.jpg">
      <img id = "92" class = "img1" src="1.jpg">
      <img id = "93" class = "img1" src="1.jpg">
      <img id = "94" class = "img1" src="1.jpg">
      <img id = "95" class = "img1" src="1.jpg">
      <img id = "96" class = "img1" src="1.jpg">
      <img id = "97" class = "img1" src="1.jpg">
      <img id = "98" class = "img1" src="1.jpg">
      <img id = "99" class = "img1" src="1.jpg">
      <img id = "100" class = "img1" src="1.jpg">
      <img id = "101" class = "img1" src="1.jpg">
      <img id = "102" class = "img1" src="1.jpg">
      <img id = "103" class = "img1" src="1.jpg">
      <img id = "104" class = "img1" src="1.jpg">
      <img id = "105" class = "img1" src="1.jpg">
      <img id = "106" class = "img1" src="1.jpg">
      <img id = "107" class = "img1" src="1.jpg">
      <img id = "108" class = "img1" src="1.jpg">
      <img id = "109" class = "img1" src="1.jpg">
      <img id = "110" class = "img1" src="1.jpg">
      <img id = "111" class = "img1" src="1.jpg">
      <img id = "112" class = "img1" src="1.jpg">
      <img id = "113" class = "img1" src="1.jpg">
      <img id = "114" class = "img1" src="1.jpg">
      <img id = "115" class = "img1" src="1.jpg">
      <img id = "116" class = "img1" src="1.jpg">
      <img id = "117" class = "img1" src="1.jpg">
      <img id = "118" class = "img1" src="1.jpg">
      <img id = "119" class = "img1" src="1.jpg">
      <img id = "120" class = "img1" src="1.jpg">
      <img id = "121" class = "img1" src="1.jpg">
      <img id = "122" class = "img1" src="1.jpg">
      <img id = "123" class = "img1" src="1.jpg">
      <img id = "124" class = "img1" src="1.jpg">
      <img id = "125" class = "img1" src="1.jpg">
      <img id = "126" class = "img1" src="1.jpg">
      <img id = "127" class = "img1" src="1.jpg">
      <img id = "128" class = "img1" src="1.jpg">
      <img id = "129" class = "img1" src="1.jpg">
      <img id = "130" class = "img1" src="1.jpg">
      <img id = "131" class = "img1" src="1.jpg">
      <img id = "132" class = "img1" src="1.jpg">
      <img id = "133" class = "img1" src="1.jpg">
      <img id = "134" class = "img1" src="1.jpg">
      <img id = "135" class = "img1" src="1.jpg">
      <img id = "136" class = "img1" src="1.jpg">
      <img id = "137" class = "img1" src="1.jpg">
      <img id = "138" class = "img1" src="1.jpg">
      <img id = "139" class = "img1" src="1.jpg">
      <img id = "140" class = "img1" src="1.jpg">
      <img id = "141" class = "img1" src="1.jpg">
      <img id = "142" class = "img1" src="1.jpg">
      <img id = "143" class = "img1" src="1.jpg">
      <img id = "144" class = "img1" src="1.jpg">
      <img id = "145" class = "img1" src="1.jpg">
      <img id = "146" class = "img1" src="1.jpg">
      <img id = "147" class = "img1" src="1.jpg">
      <img id = "148" class = "img1" src="1.jpg">
      <img id = "149" class = "img1" src="1.jpg">
      <img id = "150" class = "img1" src="1.jpg">
      <img id = "151" class = "img1" src="1.jpg">
      <img id = "152" class = "img1" src="1.jpg">
      <img id = "153" class = "img1" src="1.jpg">
      <img id = "154" class = "img1" src="1.jpg">
      <img id = "155" class = "img1" src="1.jpg">
      <img id = "156" class = "img1" src="1.jpg">
      <img id = "157" class = "img1" src="1.jpg">
      <img id = "158" class = "img1" src="1.jpg">
      <img id = "159" class = "img1" src="1.jpg">
      <img id = "160" class = "img1" src="1.jpg">
      <img id = "161" class = "img1" src="1.jpg">
      <img id = "162" class = "img1" src="1.jpg">
      <img id = "163" class = "img1" src="1.jpg">
      <img id = "164" class = "img1" src="1.jpg">
      <img id = "165" class = "img1" src="1.jpg">
      <img id = "166" class = "img1" src="1.jpg">
      <img id = "167" class = "img1" src="1.jpg">
      <img id = "168" class = "img1" src="1.jpg">
      <img id = "169" class = "img1" src="1.jpg">
      <img id = "170" class = "img1" src="1.jpg">
      <img id = "171" class = "img1" src="1.jpg">
      <img id = "172" class = "img1" src="1.jpg">
      <img id = "173" class = "img1" src="1.jpg">
      <img id = "174" class = "img1" src="1.jpg">
      <img id = "175" class = "img1" src="1.jpg">
      <img id = "176" class = "img1" src="1.jpg">
      <img id = "177" class = "img1" src="1.jpg">
      <img id = "178" class = "img1" src="1.jpg">
      <img id = "179" class = "img1" src="1.jpg">
      <img id = "180" class = "img1" src="1.jpg">
      <img id = "181" class = "img1" src="1.jpg">
      <img id = "182" class = "img1" src="1.jpg">
      <img id = "183" class = "img1" src="1.jpg">
      <img id = "184" class = "img1" src="1.jpg">
      <img id = "185" class = "img1" src="1.jpg">
      <img id = "186" class = "img1" src="1.jpg">
      <img id = "187" class = "img1" src="1.jpg">
      <img id = "188" class = "img1" src="1.jpg">
      <img id = "189" class = "img1" src="1.jpg">
      <img id = "190" class = "img1" src="1.jpg">
      <img id = "191" class = "img1" src="1.jpg">
      <img id = "192" class = "img1" src="1.jpg">
      <img id = "193" class = "img1" src="1.jpg">
      <img id = "194" class = "img1" src="1.jpg">
      <img id = "195" class = "img1" src="1.jpg">
    </div>
      <button id = "button1">重新来过</button>
      <button id = "button2"></button>

<script>
    var myMove = bread(); 
    var img = document.getElementsByClassName("img1");
    for(var i = 0; i < 195; i++){ 
        img[i].addEventListener("click",myMove);
    }

    document.getElementById("button1").addEventListener("click",init);
    var button2 = document.getElementById("button2");

  	function bread() {
        var type = true;
        for(var i = 0; i < document.images.length; i++) 
            document.images[i].name = 1;

        function temp(e){

          if(e.target.name == 1){
            if(type){
                  e.target.src = "2.jpg";
                  type = false;
                  e.target.name = 0;
                  
              }else {
                  e.target.src = "3.jpg";
                  type = true;
                  e.target.name = 0;
              }
          }

          decideWin(e.target.id);
        }
  	   return temp;
  	}
        
    function init() {

        for(var i = 0; i < document.images.length; i++) 
            document.images[i].name = 1;
        for(var i = 0; i < 195; i++){	
        document.images[i].src = "1.jpg";
        }

        for(var i = 0; i < 195; i++){ 
        img[i].addEventListener("click",myMove);
        }
        button2.innerHTML = "";
    }

    function decideWin(x) {
      var imagesSrc = [];
      for(var i = 0; i < document.images.length; i++)
        imagesSrc[i + 1] = document.images[i].src;
      x = Number(x);
      var selectdirection = [1, 15, 14, 16];
      var j = 0;
      while((y = selectdirection[j]) > 0){
        if(
            (
              (imagesSrc[x] == imagesSrc[x+y]) &&
              (imagesSrc[x+y] == imagesSrc[x+2*y]) &&
              (imagesSrc[x+2*y] == imagesSrc[x+3*y]) &&
              (imagesSrc[x+3*y] == imagesSrc[x+4*y]) 
              ) ||
            (
              (imagesSrc[x-y] == imagesSrc[x]) &&
              (imagesSrc[x] == imagesSrc[x+y]) &&
              (imagesSrc[x+y] == imagesSrc[x+2*y]) &&
              (imagesSrc[x+2*y] == imagesSrc[x+3*y]) 
              ) ||
            (
              (imagesSrc[x-2*y] == imagesSrc[x-y]) &&
              (imagesSrc[x-y] == imagesSrc[x]) &&
              (imagesSrc[x] == imagesSrc[x+y]) &&
              (imagesSrc[x+y] == imagesSrc[x+2*y]) 
              ) ||
            (
              (imagesSrc[x-3*y] == imagesSrc[x-2*y]) &&
              (imagesSrc[x-2*y] == imagesSrc[x-y]) &&
              (imagesSrc[x-y] == imagesSrc[x]) &&
              (imagesSrc[x] == imagesSrc[x+y]) 
              ) ||
            (
              (imagesSrc[x-4*y] == imagesSrc[x-3*y]) &&
              (imagesSrc[x-3*y] == imagesSrc[x-2*y]) &&
              (imagesSrc[x-2*y] == imagesSrc[x-y]) &&
              (imagesSrc[x-y] == imagesSrc[x]) 
              ) 
          ) {
              button2.innerHTML = "游戏结束";
              for(var k = 0; k < 195; k++){ 
              img[k].removeEventListener("click",myMove);
             }
          }
          j++;
      }
    }

</script>
</body>
</html>
